---
import AppShell from "../../layouts/AppShell.astro";
import SEO from "../../components/SEO.astro";
import { getCollection } from "astro:content";
import dayjs from "dayjs";

const press = (await getCollection("press")).sort(
  (a, b) => b.data.date.getTime() - a.data.date.getTime()
);
---

<AppShell>
  <SEO
    slot="head"
    title="Press · Ashton Hawkins"
    description="Interviews, features, and mentions of Ashton Hawkins across the web."
  />
  <section class="space-y-10">
    <header class="max-w-prose space-y-4">
      <h1 class="text-4xl font-semibold text-text-primary">Press</h1>
      <p class="text-lg text-text-secondary">
        A collection of interviews, spotlights, and features covering the studio’s work and approach
        to building thoughtful products.
      </p>
    </header>
    <div class="grid gap-6 md:grid-cols-2">
      {press.length ? (
        press.map((entry) => (
          <article class="flex h-full flex-col justify-between gap-5 rounded-3xl border border-border/60 bg-surface/80 p-6 shadow-soft transition hover:-translate-y-1 hover:border-accent">
            <div class="space-y-3">
              <div class="flex items-center justify-between text-xs uppercase tracking-[0.3em] text-text-muted">
                <span>{entry.data.outlet}</span>
                <span>{dayjs(entry.data.date).format("MMM D, YYYY")}</span>
              </div>
              <h2 class="text-2xl font-semibold text-text-primary">{entry.data.title}</h2>
              {entry.body ? (
                <p class="text-sm text-text-secondary">
                  {entry.body.replace(/\n+/g, " ").trim()}
                </p>
              ) : null}
            </div>
            <a
              href={entry.data.url}
              target="_blank"
              rel="noreferrer"
              class="inline-flex items-center gap-2 self-start rounded-full bg-accent px-4 py-2 text-sm font-semibold text-text-inverted transition hover:bg-accent-strong"
            >
              Read feature ↗
            </a>
          </article>
        ))
      ) : (
        <p class="text-sm text-text-muted">Press highlights are on the way.</p>
      )}
    </div>
  </section>
</AppShell>
