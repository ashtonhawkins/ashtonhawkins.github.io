---
interface Props {
  keywords: string[];
  activeTags: string[];
}

const { keywords, activeTags } = Astro.props as Props;
const normalized = activeTags.map((tag) => tag.toLowerCase());
---
<section class="flex flex-col gap-4" aria-label="Filter by keyword" data-motion>
  <div class="flex flex-wrap items-center justify-between gap-3">
    <h2 class="text-lg font-semibold text-[color:var(--ink)]">Keywords</h2>
    <p class="text-sm text-[color:var(--ink-2)]">Toggle to filter experience and case studies.</p>
  </div>
  <div class="flex flex-wrap gap-2" data-keyword-list>
    {keywords.map((keyword) => {
      const tag = keyword.toLowerCase();
      const isActive = normalized.includes(tag);
      return (
        <button
          type="button"
          class="inline-flex items-center gap-2 rounded-full border border-[color:var(--keyline)] bg-[color:color-mix(in_lab,var(--surface) 94%, transparent)] px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.24em] text-[color:var(--ink-2)] transition-[border,background,color,transform] duration-200 ease-[cubic-bezier(.2,.8,.2,1)] hover:border-[color:color-mix(in_lab,var(--accent) 40%, transparent)] hover:text-[color:var(--ink)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[color:var(--accent)]"
          data-keyword-chip
          data-tag={tag}
          data-active={isActive ? "true" : "false"}
          aria-pressed={isActive ? "true" : "false"}
        >
          {keyword}
        </button>
      );
    })}
  </div>
</section>
