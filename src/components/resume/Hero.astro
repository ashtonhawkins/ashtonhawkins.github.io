---
import Scoreboard from "./Scoreboard.astro";

interface HeroData {
  headline: string;
  subhead: string;
}

interface HeroProps {
  hero: HeroData;
  kpis: {
    key: string;
    label: string;
    value: number;
    suffix?: string;
    sample?: number;
    confidence?: string;
  }[];
}

const { hero, kpis } = Astro.props as HeroProps;
const words = hero.headline.split(" ");
---
<section
  class="flex flex-col gap-8 rounded-[var(--r-4)] border border-[color:color-mix(in_srgb,var(--ink)_12%,transparent)] bg-[color:color-mix(in_srgb,var(--surface)_94%,transparent)] p-6 sm:p-8"
  data-hero-anchor
>
  <header class="flex flex-col gap-6">
    <div class="flex flex-col gap-4">
      <div class="flex items-center justify-between gap-3">
        <div class="flex items-center gap-3">
          <span class="inline-flex items-center gap-2 rounded-full border border-[color:var(--accent)]/40 bg-[color:color-mix(in_srgb,var(--accent)_18%,transparent)] px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.28em] text-[color:var(--accent)]">
            Resume
          </span>
          <span class="inline-flex items-center gap-2 rounded-full border border-[color:var(--ink-2)]/30 bg-[color:color-mix(in_srgb,var(--surface-alt)_82%,transparent)] px-3 py-1 text-[0.65rem] font-semibold uppercase tracking-[0.24em] text-[color:var(--ink-2)]">
            <span class="inline-flex h-2 w-2 rounded-full bg-[color:var(--accent)]" aria-hidden="true"></span>
            <span class="confidential-only">Confidential</span>
            <span class="public-only">Public</span>
          </span>
        </div>
        <slot name="mode-toggle" />
      </div>
      <div class="flex flex-col gap-3">
        <h1 class="text-4xl font-semibold leading-tight tracking-tight text-[color:var(--ink)] sm:text-5xl">
          <span class="flex flex-wrap gap-x-2">
            {words.map((word, index) => (
              <span key={`${word}-${index}`} class={index % 2 === 1 ? "text-[color:var(--ink-2)]" : undefined}>
                {word}
              </span>
            ))}
          </span>
        </h1>
        <p class="max-w-2xl text-base text-[color:var(--ink-2)] sm:text-lg">{hero.subhead}</p>
      </div>
    </div>
  </header>
  <Scoreboard items={kpis} />
</section>
