---
import type resumeData from "../../data/resume.json";
const { capabilities } = Astro.props as { capabilities: typeof resumeData.capabilities };
const levels = [1, 2, 3, 4, 5];
---
<section class="rounded-3xl border border-[color-mix(in_srgb,var(--ink)_10%,transparent)] bg-[var(--surface-alt)] p-8 shadow-lg shadow-black/10">
  <div class="flex flex-col gap-6">
    <div class="flex items-center justify-between">
      <h2 class="text-xl font-semibold text-[var(--ink)]">Capabilities Map</h2>
      <span class="text-xs text-[var(--ink-2)]">Depth across practice areas</span>
    </div>
    <div class="overflow-x-auto">
      <table class="w-full min-w-[560px] border-separate border-spacing-0 text-sm">
        <thead>
          <tr>
            <th class="sticky left-0 bg-[var(--surface-alt)] p-3 text-left text-xs uppercase tracking-wide text-[var(--ink-2)]">Discipline</th>
            {levels.map((level) => (
              <th class="p-3 text-xs uppercase tracking-wide text-[var(--ink-2)]" scope="col" key={level}>
                Level {level}
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {capabilities.map((cap) => (
            <tr key={cap.area}>
              <th scope="row" class="sticky left-0 bg-[var(--surface-alt)] p-3 text-left text-sm font-semibold text-[var(--ink)]">{cap.area}</th>
              {levels.map((level) => (
                <td key={level} class="p-3">
                  <span
                    class={`sr-only`}
                  >
                    {cap.area} level {level}
                  </span>
                  <span
                    aria-hidden="true"
                    class={`block h-8 rounded-full border border-[color-mix(in_srgb,var(--ink)_10%,transparent)] ${
                      level <= cap.depth ? "bg-[var(--accent)]" : "bg-[color-mix(in_srgb,var(--ink)_6%,transparent)]"
                    }`}
                  ></span>
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </div>
</section>
