---
const { title, description, url, person, resume } = Astro.props;
const fullTitle = title ? `${title} · ${person?.name ?? 'Portfolio'}` : `${person?.name ?? ''} · ${person?.title ?? ''}`;

const jsonLd = {
  "@context": "https://schema.org",
  "@type": "Person",
  "name": person?.name,
  "jobTitle": person?.title,
  "description": description,
  "email": person?.email,
  "address": { "@type": "PostalAddress", "addressLocality": person?.location },
  "url": url,
  "sameAs": [person?.urls?.site, person?.urls?.linkedin, person?.urls?.github].filter(Boolean),
  "worksFor": resume?.work?.[0]?.org
};
---
<title>{fullTitle}</title>
<meta name="description" content={description} />
<script type="application/ld+json">
  {JSON.stringify(jsonLd)}
</script>
