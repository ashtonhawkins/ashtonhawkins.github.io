---
export interface Quadrant {
  id: string;
  label: string;
  descriptor: string;
  intensity: number;
  percentage: number;
}

const { quadrants } = Astro.props as { quadrants: Quadrant[] };
---
<section class="grid gap-4 rounded-3xl border border-border/70 bg-surface/90 p-6 shadow-soft">
  <div class="flex items-center justify-between gap-3">
    <div>
      <h2 class="text-2xl font-semibold text-text-primary">Exploration profile</h2>
      <p class="text-text-secondary">Quadrant map for the environments I gravitate toward.</p>
    </div>
    <span class="rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary">Abstracted</span>
  </div>
  <div class="grid grid-cols-1 gap-3 rounded-2xl border border-border/60 bg-gradient-to-br from-slate-950 via-surface/80 to-slate-950 p-4 sm:grid-cols-2">
    {quadrants.map((zone, index) => {
      const strength = Math.max(0.45, zone.intensity + 0.2);
      const gradient = `linear-gradient(140deg, rgba(34,211,238,${strength}) 0%, rgba(192,132,252,${strength - 0.1}) 45%, rgba(14,165,233,${strength - 0.2}) 100%)`;
      const ghost = zone.descriptor.split(" ")[0]?.toUpperCase();
      const cornerClass = index % 2 === 0 ? "sm:rounded-tl-xl sm:rounded-bl-xl" : "sm:rounded-tr-xl sm:rounded-br-xl";
      return (
        <article
          class={`relative overflow-hidden rounded-xl border border-border/60 bg-surface/80 p-5 ${cornerClass}`}
          style={{ backgroundImage: gradient }}
        >
          <div
            class="absolute inset-0"
            style={{ backgroundImage: "radial-gradient(circle at center, rgba(255,255,255,0.08), transparent 60%)" }}
            aria-hidden="true"
          />
          <div class="absolute inset-0 bg-[linear-gradient(0deg,rgba(255,255,255,0.12)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.12)_1px,transparent_1px)] bg-[size:28px_28px] opacity-30" aria-hidden="true" />
          <div class="relative flex min-h-[160px] flex-col justify-between gap-3 text-white drop-shadow">
            <div>
              <p class="text-xs uppercase tracking-[0.12em] text-white/80">{zone.descriptor}</p>
              <p class="text-2xl font-semibold">{zone.label}</p>
            </div>
            <div class="flex items-center justify-between text-sm">
              <p class="text-white/80">Approx. {zone.percentage}% intensity</p>
              <span class="rounded-full bg-white/15 px-3 py-1 text-xs font-semibold text-white">{zone.intensity >= 0.75 ? "High" : "Steady"}</span>
            </div>
            <p class="pointer-events-none text-5xl font-black uppercase tracking-[0.16em] text-white/15">{ghost}</p>
          </div>
        </article>
      );
    })}
  </div>
</section>
